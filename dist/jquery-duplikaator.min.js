/*! jquery-duplikaator - v0.0.1 - 2015-08-04
* https://github.com/ain/jquery-duplikaator
* Copyright Â© 2015 Ain Tohvri; Licensed GPL-3.0 */!function(a){"use strict";function b(b,d){function e(b){b.find("*[name]").each(function(){a(this).attr("name",a(this).attr("name")+r.sequenceId)})}function f(a){var b=[a,r.sequenceId];r.element.trigger(j("duplicate"),b)}function g(){return a(i(q.source))}function h(){return a(i(q.target))}function i(a){return r.element.attr("data-"+a)}function j(a){return a+"."+c}function k(){if(!i(q.target))throw new ReferenceError("Invalid element. Missing target.");if(!i(q.source))throw new ReferenceError("Invalid element. Missing source.")}function l(){void 0!==r.element.on?r.element.on(j("click"),n):r.element.bind(j("click"),n)}function m(){void 0!==r.element.off?r.element.off(j("click")):r.element.unbind(j("click"))}function n(){r.duplicate()}function o(){k(),s=g(),t=h(),u=t.html(),l()}var p={nameGenerator:!0,emitter:!1},q={source:"duplikaator-source",target:"duplikaator-target"};this.element=a(b),this.settings=a.extend({},p,d),this.sequenceId=0;var r=this,s=null,t=null,u=null;this.destroy=function(){m(),this.restore(),this.element.removeData("plugin_"+c)},this.duplicate=function(){this.sequenceId++;var a=s.clone();return this.settings.nameGenerator&&e(a),this.settings.emitter&&f(a),t.append(a),a},this.restore=function(){t.html(u)},o()}var c="duplikaator";a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery);